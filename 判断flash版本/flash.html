<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>判断flash</title>
</head>
<body>
</body>
<script type="text/javascript">

	// 判断浏览器是否支持H5
	if (!window.applicationCache) {  

        // 不支持HTML5
		// 判断是否安装了flash及其版本
		var fls=flashChecker();
		var s="";
		if(fls.f){
			if (fls.v > 10) {
				document.write("当前flash版本为："+fls.v+".x");
			}else{
				document.write('flash版本需要大于10.x，请' + '<a style="font-size:20px;color:blue;" href="https://get2.adobe.com/cn/flashplayer/">点击此处</a>' + '升级您的flash');
			}
		}else{
			document.write('您没有安装flash' + '<a style="font-size:20px;color:blue;" href="https://get2.adobe.com/cn/flashplayer/">点击此处</a>' + '安装flash'); 
		}
    }

	// 判断flash方法
	function flashChecker(){
		var hasFlash=0;         //是否安装了flash
		var flashVersion=0; //flash版本
		var isIE=/*@cc_on!@*/0;      //是否IE浏览器

		if(isIE){
			var swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash'); 
			if(swf) {
				hasFlash=1;
				VSwf=swf.GetVariable("$version");
				flashVersion=parseInt(VSwf.split(" ")[1].split(",")[0]); 
			}
		}else{
			if (navigator.plugins && navigator.plugins.length > 0){
				var swf=navigator.plugins["Shockwave Flash"];
			    if (swf){
					hasFlash=1;
			        var words = swf.description.split(" ");
			        for (var i = 0; i < words.length; ++i){
			            if (isNaN(parseInt(words[i]))) continue;
			            flashVersion = parseInt(words[i]);
					}
			    }
			}
		}
		return {f:hasFlash,v:flashVersion};
	}
</script>
</html>